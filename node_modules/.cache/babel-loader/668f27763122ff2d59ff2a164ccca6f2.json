{"ast":null,"code":"import _objectSpread from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/mikae/Desktop/IAP/Twilio API/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\mikae\\\\Desktop\\\\IAP\\\\Twilio API\\\\src\\\\SMSForm.js\";\nimport React, { Component } from 'react';\nimport './SMSForm.css';\n\nvar SMSForm = /*#__PURE__*/function (_Component) {\n  _inherits(SMSForm, _Component);\n\n  var _super = _createSuper(SMSForm);\n\n  function SMSForm(props) {\n    var _this;\n\n    _classCallCheck(this, SMSForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      message: {\n        to: '',\n        body: ''\n      },\n      submitting: false,\n      error: false\n    };\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.onHandleChange = _this.onHandleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SMSForm, [{\n    key: \"onSubmit\",\n    value: function onSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState({\n        submitting: true\n      });\n      fetch('/api/messages', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.message)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          _this2.setState({\n            error: false,\n            submitting: false,\n            message: {\n              to: '',\n              body: ''\n            }\n          });\n        } else {\n          _this2.setState({\n            error: true,\n            submitting: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onHandleChange\",\n    value: function onHandleChange(event) {\n      var name = event.target.getAttribute('name');\n      this.setState({\n        message: _objectSpread(_objectSpread({}, this.state.message), {}, {\n          [name]: event.target.value\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: this.state.error ? 'error sms-form' : 'sms-form',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"to\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, \"Recipient:\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"tel\",\n        name: \"to\",\n        id: \"to\",\n        value: this.state.message.to,\n        onChange: this.onHandleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, \"Message:\"), /*#__PURE__*/React.createElement(\"textarea\", {\n        name: \"body\",\n        id: \"body\",\n        value: this.state.message.body,\n        onChange: this.onHandleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: this.state.submitting,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, \"Send SMS\"));\n    }\n  }]);\n\n  return SMSForm;\n}(Component);\n\nexport default SMSForm;","map":{"version":3,"sources":["C:/Users/mikae/Desktop/IAP/Twilio API/src/SMSForm.js"],"names":["React","Component","SMSForm","props","state","message","to","body","submitting","error","onSubmit","bind","onHandleChange","event","preventDefault","setState","fetch","method","headers","JSON","stringify","then","res","json","data","success","name","target","getAttribute","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './SMSForm.css';\r\n\r\nclass SMSForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      message: {\r\n        to: '',\r\n        body: ''\r\n      },\r\n      submitting: false,\r\n      error: false\r\n    };\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.onHandleChange = this.onHandleChange.bind(this);\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({ submitting: true });\r\n    fetch('/api/messages', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(this.state.message)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.success) {\r\n          this.setState({\r\n            error: false,\r\n            submitting: false,\r\n            message: {\r\n              to: '',\r\n              body: ''\r\n            }\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: true,\r\n            submitting: false\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  onHandleChange(event) {\r\n    const name = event.target.getAttribute('name');\r\n    this.setState({\r\n      message: { ...this.state.message, [name]: event.target.value }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.onSubmit}\r\n        className={this.state.error ? 'error sms-form' : 'sms-form'}\r\n      >\r\n        <div>\r\n          <label htmlFor=\"to\">Recipient:</label>\r\n          <input\r\n            type=\"tel\"\r\n            name=\"to\"\r\n            id=\"to\"\r\n            value={this.state.message.to}\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"body\">Message:</label>\r\n          <textarea\r\n            name=\"body\"\r\n            id=\"body\"\r\n            value={this.state.message.body}\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" disabled={this.state.submitting}>\r\n          Send SMS\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SMSForm;\r\n"]},"metadata":{},"sourceType":"module"}